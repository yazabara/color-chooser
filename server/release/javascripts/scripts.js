var settings={firebaseUrl:"https://blinding-inferno-9356.firebaseio.com/"},colorApp=angular.module("colorApp",[],function(){"use strict"}).constant("FIRE_BASE_URL",settings.firebaseUrl);colorApp.directive("navClassDirective",["$window",function(a){return{restrict:"A",transclude:!0,template:"<div ng-transclude></div>",scope:{navClass:"@",navRangeCoff:"@"},link:function(b,c){var d=function(){var d=b.navRangeCoff?b.navRangeCoff:1;a.pageYOffset>d&&!c.hasClass(b.navClass)&&c.addClass(b.navClass),c.hasClass(b.navClass)&&a.pageYOffset<=d&&c.removeClass(b.navClass)};angular.element(a).bind("load",d),angular.element(a).bind("scroll",d)}}}]),colorApp.factory("ColorConverterService",["$log",function(){"use strict";function a(a,b,c){a/=255,b/=255,c/=255;var d,e,f=Math.max(a,b,c),g=Math.min(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return[d,e,h]}function b(a,b,d){var e,f,g;if(0==b)e=f=g=d;else{var h=.5>d?d*(1+b):d+b-d*b,i=2*d-h;e=c(i,h,a+1/3),f=c(i,h,a),g=c(i,h,a-1/3)}return[255*e,255*f,255*g]}function c(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}function d(a,b,c){a/=255,b/=255,c/=255;var d,e,f=Math.max(a,b,c),g=Math.min(a,b,c),h=f,i=f-g;if(e=0==f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return[d,e,h]}function e(a,b,c){var d,e,f,g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b);switch(g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}return[255*d,255*e,255*f]}function f(a,b,c){return"#"+g(a)+g(b)+g(c)}function g(a){var b="0123456789ABCDEF";return String(b.substr(a>>4&15,1))+b.substr(15&a,1)}function h(a){if(!a)return i;var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{red:parseInt(c[1],16),green:parseInt(c[2],16),blue:parseInt(c[3],16)}:i}var i={red:255,green:255,blue:255};return{hsvToRgb:e,rgbToHsv:d,hslToRgb:b,rgbToHsl:a,rgbToHex:f,hexToRgb:h}}]),colorApp.factory("ColorGeneratorService",["$log",function(){"use strict";function a(a){var b=c(),d=c(),e=c();return a&&(b=(b+a.red)/2,d=(d+a.green)/2,e=(e+a.blue)/2),{red:b,green:d,blue:e}}function b(a){var b=parseInt(a.substr(0,2),16),c=parseInt(a.substr(2,2),16),d=parseInt(a.substr(4,2),16),e=(299*b+587*c+114*d)/1e3;return e>=128?"black":"white"}function c(){return 256*Math.random()}return{generateRandomColor:a,generateFontColor:b}}]),colorApp.factory("ColorValidatorService",["$log",function(){"use strict";function a(a){if(""===a)return!1;if("inherit"===a)return!1;if("transparent"===a)return!1;var b=document.createElement("img");return b.style.color="rgb(0, 0, 0)",b.style.color=a,"rgb(0, 0, 0)"!==b.style.color?!0:(b.style.color="rgb(255, 255, 255)",b.style.color=a,"rgb(255, 255, 255)"!==b.style.color)}return{validateColour:a}}]),colorApp.factory("ColorDataStorage",function(){var a={randomColors:[{background:"#313F7C",backgroundInput:"#313F7C",color:"white"}],randomIndex:0};return{currentData:a}}),colorApp.controller("generateColorsController",["ColorGeneratorService","ColorConverterService","ColorValidatorService","ColorDataStorage","$scope",function(a,b,c,d,e){"use strict";e.currentData=d.currentData,e.generateRandom=function(c,d){for(var f=c?c:10,g=d?b.hexToRgb(d):a.generateRandomColor(null),h=0;f>h;h++){var i=a.generateRandomColor(g),j=b.rgbToHex(i.red,i.green,i.blue),k={background:j,backgroundInput:j,color:a.generateFontColor(j.substring(1,j.length))};-1==e.currentData.randomColors.indexOf(k)&&e.currentData.randomColors.push(k),g=i}},e.generateRandom(50),e.setBackgroundColor=function(a){0>a||a>=e.currentData.randomColors.length||(e.currentData.randomIndex=a)},e.colorChange=function(b){c.validateColour(b.backgroundInput)&&(b.background=b.backgroundInput,b.color=a.generateFontColor(b.background.substring(1,b.background.length)))}}]),colorApp.controller("navController",["ColorDataStorage","$scope",function(a,b){"use strict";b.currentData=a.currentData}]);